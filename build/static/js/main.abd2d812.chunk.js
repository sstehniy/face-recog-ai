(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){e.exports=n.p+"static/media/Blanka-Regular.0f9bdc30.otf"},110:function(e,t,n){e.exports=n.p+"static/media/Pixopedia.a4c77f73.ttf"},111:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(21),c=n.n(l),o=(n(61),n(11)),i=n.n(o),u=n(18),s=n(22),m=n(29),d=n(3),p=(n(63),n(15)),f=n(114),g=n(113),_=n(19),b=n.n(_),E=n(48),h=n.n(E);var v=function(e){return r.a.createElement("h1",{className:h.a.Title},"Smartbrain")},x=n(49),w=n.n(x),S=n(50),O=n.n(S),y=function(){return r.a.createElement(w.a,{className:"Tilt",options:{max:35},style:{height:75,width:75}},r.a.createElement("img",{src:O.a,alt:"brain__logo",style:{width:75}}))},C=n(14),N=r.a.createContext({loggedUser:null,signInHandler:function(){},signUpHandler:function(){},signOutHandler:function(){}});n(64);var j=function(e){var t=e.burgerClickedHandler,n=e.isClicked,l=Object(a.useContext)(N);return r.a.createElement("nav",{className:"Nav ".concat(n?"active":"")},r.a.createElement(C.b,{to:"/",className:"nav__item",onClick:function(){return t()}},"Home"),l.loggedUser?r.a.createElement(C.b,{to:"/",className:"nav__item",onClick:function(){return l.signOutHandler()}},"Sign Out"):r.a.createElement(r.a.Fragment,null,r.a.createElement(C.b,{to:"/sign-in",className:"nav__item",onClick:function(){return t()}},"Sign In"),r.a.createElement(C.b,{to:"/sign-up",className:"nav__item",onClick:function(){return t()}},"Sign Up")),r.a.createElement("div",{className:"exit",onClick:function(){return t()}}))};var I=function(e){return r.a.createElement("div",{style:{position:"fixed",top:0,left:0,minWidth:"100vw",minHeight:"100vh",zIndex:500,backgroundColor:"rgba(0, 0, 0, 0.534)"},onClick:function(){return e.burgerClickedHandler()}})};var k=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),l=n[0],c=n[1],o=function(){c(!l)};return r.a.createElement("header",{className:b.a.Header},r.a.createElement(y,null),r.a.createElement(v,null),l&&r.a.createElement(I,{burgerClickedHandler:o}),r.a.createElement(j,{burgerClickedHandler:o,isClicked:l}),r.a.createElement("div",{className:b.a.menu__burger,onClick:function(){return o()}},r.a.createElement("div",{className:b.a.item}),r.a.createElement("div",{className:b.a.item}),r.a.createElement("div",{className:b.a.item})))},H=n(54),U=n(32),R=n.n(U),F=n(25),A=n.n(F);var D=function(e){var t=e.url,n=e.inputChangeHandler,a=e.submitHandler;return r.a.createElement("div",{className:A.a.InputField},r.a.createElement("p",null,"Put any image url below and I will try to detect faces on the picture"),r.a.createElement("div",{className:A.a.InputArea},r.a.createElement("input",{type:"url",className:A.a.UrlInput,placeholder:"example: https://...",value:t,onChange:function(e){return n(e)}}),r.a.createElement("button",{type:"submit",onClick:function(e){return a(e)}},"Send")))},M=n(33),P=n.n(M),T=n(53),z=n.n(T),G=function(){return r.a.createElement("div",{className:z.a["lds-ripple"]},r.a.createElement("div",null),r.a.createElement("div",null))};var J=function(e){var t=e.photo,n=e.faceRect,a=e.loading;return r.a.createElement("div",{className:P.a.photo__box},t||a?a?r.a.createElement(G,null):r.a.createElement("div",{className:P.a.img__box,style:{backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},r.a.createElement("img",{src:t,alt:"DSAG",style:{visibility:"hidden",width:"100%"}}),n?n.map((function(e,t){return r.a.createElement("div",{key:t,style:{position:"absolute",top:"".concat(100*e.top_row,"%"),left:"".concat(100*e.left_col,"%"),height:"".concat(100*(e.bottom_row-e.top_row),"%"),width:"".concat(100*(e.right_col-e.left_col),"%"),border:"2px solid red"}})})):null):r.a.createElement("h1",{style:{color:"#273444"}},"No photo yet"))},L=new(n(69).App)({apiKey:"c2a9fe4541ab40a28f6b75effe537033"});var W=function(e){var t=e.setModalHandler,n=Object(a.useContext)(N),l=Object(a.useState)(""),c=Object(d.a)(l,2),o=c[0],i=c[1],u=Object(a.useState)(null),s=Object(d.a)(u,2),m=s[0],p=s[1],f=Object(a.useState)([]),g=Object(d.a)(f,2),_=g[0],b=g[1],E=Object(a.useState)(!1),h=Object(d.a)(E,2),v=h[0],x=h[1];return r.a.createElement("div",{className:R.a.Main},n.loggedUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{url:o,inputChangeHandler:function(e){var t=e.target;i(t.value)},submitHandler:function(e){e.preventDefault(),b([]),p(null),x(!0),!function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi);return e.match(t)}(o)?(t("ERROR","Input Error","Wrong input type, make sure your url is valid"),x(!1),i("")):function(e){return L.models.predict("e466caa0619f444ab97497640cefc4dc",e).then((function(e){return e}),(function(e){return new Error}))}(o).then((function(e){p(e.outputs[0].input.data.image.url),b(Object(H.a)(e.outputs[0].data.regions.map((function(e){return e.region_info.bounding_box})))),x(!1),i("")})).catch((function(e){t("ERROR","Nothing found","No face detected, please try another photo"),x(!1),i("")}))}}),r.a.createElement(J,{photo:m,faceRect:_,loading:v})):r.a.createElement("div",{className:R.a.mustLogIn},r.a.createElement("p",null,"You must be logged in to be able to use face detection")))},Y=n(26),q=n.n(Y);var Z=function(e){var t=e.loginData,n=e.inputChangeHandler,l=Object(a.useContext)(N);return r.a.createElement("form",{method:"submit",className:q.a.SignIn,id:"signIn"},r.a.createElement("h2",null,"Sign In"),r.a.createElement("div",{className:q.a.form__field},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"username",value:t.username,name:"username",placeholder:"example: jdoe123",onChange:function(e){return n(e)}})),r.a.createElement("div",{className:q.a.form__field},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",value:t.password,name:"password",placeholder:"example: qwerty12345",onChange:function(e){return n(e)}})),r.a.createElement("button",{type:"submit",onClick:function(e){return l.signInHandler(e)}},"Sign In"))},B=n(20),K=n.n(B);var X=function(e){var t=e.newUser,n=e.inputChangeHandler,l=t.name,c=t.username,o=t.email,i=t.password,u=Object(a.useContext)(N);return r.a.createElement("form",{method:"submit",className:K.a.SignUp,id:"signUp"},r.a.createElement("h2",null,"Sign Up"),r.a.createElement("div",{className:K.a.form__field},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",value:l,name:"name",placeholder:"example: John Doe",onChange:function(e){return n(e)}})),r.a.createElement("div",{className:K.a.form__field},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",value:o,name:"email",placeholder:"example: jdoe1990@example.com",onChange:function(e){return n(e)}})),r.a.createElement("div",{className:K.a.form__field},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"username",value:c,name:"username",placeholder:"example: jdoe123",onChange:function(e){return n(e)}})),r.a.createElement("div",{className:K.a.form__field},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",value:i,name:"password",placeholder:"example: qwerty12345",onChange:function(e){return n(e)}})),r.a.createElement("button",{type:"submit",onClick:function(e){return u.signUpHandler(e)}},"Sign Up"))};n(107);var Q=function(e){var t=e.error,n=e.animation,a=t.header,l=t.text;return r.a.createElement("div",{className:"ErrorModal",style:{animation:"".concat(n||null)}},r.a.createElement("h3",null,a),r.a.createElement("p",null,l))};n(108);var V=function(e){var t=e.success,n=e.animation,a=t.header,l=t.text;return r.a.createElement("div",{className:"SuccessModal",style:{animation:"".concat(n||null)}},r.a.createElement("h3",null,a),r.a.createElement("p",null,l))},$=n(5),ee=n.n($),te=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.a.post("/api/signup",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.a.post("/api/signin",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ae=Object(p.f)((function(e){var t=Object(a.useState)({name:"",username:"",email:"",password:""}),n=Object(d.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)({username:"",password:""}),_=Object(d.a)(o,2),b=_[0],E=_[1],h=Object(a.useState)(null),v=Object(d.a)(h,2),x=v[0],w=v[1],S=Object(a.useState)(null),O=Object(d.a)(S,2),y=O[0],C=O[1],j=Object(a.useState)(null),I=Object(d.a)(j,2),H=I[0],U=I[1],R=Object(a.useState)(""),F=Object(d.a)(R,2),A=F[0],D=F[1],M=function(e){switch(e.target.parentNode.parentNode.id){case"signUp":c(Object(m.a)({},l,Object(s.a)({},e.target.name,e.target.value)));break;case"signIn":E(Object(m.a)({},b,Object(s.a)({},e.target.name,e.target.value)))}},P=function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,ne(b);case 4:a=t.sent,w(a),E({username:"",password:""}),window.localStorage.setItem("loggedFaceRecogAppUser",JSON.stringify(a)),e.history.push("/"),T("SUCCESS","You are now logged in",""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),T("ERROR","Wrong Login Data","Either your username or your password were wrong, try another ones"),E({username:"",password:""});case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),T=function(e,t,n){switch(e){case"SUCCESS":U(null),U({header:t,text:n});break;case"ERROR":C(null),C({header:t,text:n})}D("fadeIn .7s forwards ease"),setTimeout((function(){D("fadeOut 0.7s forwards ease"),setTimeout((function(){C(null),U(null)}),700)}),3e3)};return r.a.createElement(N.Provider,{value:{loggedUser:x,signInHandler:P,signUpHandler:function(t){t.preventDefault(),te(l).then((function(t){c({name:"",username:"",email:"",password:""}),e.history.push("/"),T("SUCCESS","Registration successfull","Sign in to be able to use face detection")}))},signOutHandler:function(){w(null),localStorage.removeItem("loggedFaceRecogAppUser")}}},r.a.createElement("div",{className:"App"},y?r.a.createElement(Q,{error:y,animation:A}):null,H?r.a.createElement(V,{success:H,animation:A}):null,r.a.createElement(k,null),r.a.createElement(f.a,null,r.a.createElement(g.a,{key:e.location.key,timeout:{enter:300,exit:300},classNames:"fade"},r.a.createElement(p.c,{location:e.location},r.a.createElement(p.a,{path:"/",exact:!0,render:function(){return r.a.createElement(W,{error:y,setModalHandler:T})}}),r.a.createElement(p.a,{path:"/sign-in",render:function(){return r.a.createElement(Z,{loginData:b,inputChangeHandler:M})}}),r.a.createElement(p.a,{path:"/sign-up",render:function(){return r.a.createElement(X,{newUser:l,inputChangeHandler:M})}}))))))}));n(109),n(110);c.a.render(r.a.createElement(C.a,null,r.a.createElement(ae,null)),document.getElementById("root"))},19:function(e,t,n){e.exports={Header:"Header_Header__3iYoD",menu__burger:"Header_menu__burger__26T8s",item:"Header_item__3pd91"}},20:function(e,t,n){e.exports={SignUp:"SignUp_SignUp__3avw1",form__field:"SignUp_form__field__1kbtH"}},25:function(e,t,n){e.exports={InputField:"InputField_InputField__3anSh",InputArea:"InputField_InputArea__3qY9W",UrlInput:"InputField_UrlInput__12dPY"}},26:function(e,t,n){e.exports={SignIn:"SignIn_SignIn__1FX2n",form__field:"SignIn_form__field__1fnW5"}},32:function(e,t,n){e.exports={Main:"Main_Main__12l2c",mustLogIn:"Main_mustLogIn__14hee"}},33:function(e,t,n){e.exports={photo__box:"PhotoField_photo__box__-J4sC",img__box:"PhotoField_img__box___GbT8"}},48:function(e,t,n){e.exports={Title:"Title_Title__10f5f"}},50:function(e,t,n){e.exports=n.p+"static/media/brain.163ed871.png"},53:function(e,t,n){e.exports={"lds-ripple":"LoadingSpinner_lds-ripple__EGGGy"}},56:function(e,t,n){e.exports=n(111)},61:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){}},[[56,1,2]]]);
//# sourceMappingURL=main.abd2d812.chunk.js.map