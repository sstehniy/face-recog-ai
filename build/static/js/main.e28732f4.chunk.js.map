{"version":3,"sources":["containers/SignUp/styles/SignUp.module.css","containers/Header/styles/Header.module.css","components/InputField/styles/InputField.module.css","containers/SignIn/styles/SignIn.module.css","containers/Main/styles/Main.module.css","components/PhotoField/styles/PhotoField.module.css","components/Title/styles/Title.module.css","assets/images/brain.png","components/UI/LoadingSpinner/styles/LoadingSpinner.module.css","components/FileInput/styles/FileInput.module.css","assets/fonts/Blanka-Regular.otf","assets/fonts/Pixopedia.ttf","components/Title/Title.jsx","components/Logo/Logo.jsx","context/authContext.js","components/UI/Backdrop/Backdrop.jsx","components/Nav/Nav.jsx","containers/Header/Header.jsx","components/InputField/InputField.jsx","components/UI/LoadingSpinner/LoadingSpinner.jsx","components/PhotoField/PhotoField.jsx","components/ModeChooser/ModeChooser.jsx","components/FileInput/FileInput.jsx","service/predict.js","containers/Main/Main.jsx","containers/SignIn/SignIn.jsx","containers/SignUp/SignUp.jsx","components/UI/ErrorModal/ErrorModal.jsx","components/UI/SuccessModal/SuccessModal.jsx","service/signUp.js","service/signIn.js","App.jsx","index.jsx"],"names":["module","exports","Title","props","className","classes","options","max","style","height","width","src","logo","alt","authContext","React","createContext","loggedUser","signInHandler","signUpHandler","signOutHandler","loadingState","loading","setLoading","serverVal","email","username","Backdrop","position","top","left","minWidth","minHeight","zIndex","backgroundColor","onClick","burgerClickedHandler","Nav","isClicked","useContext","AuthContext","isMobile","useMediaQuery","query","to","Header","useState","setIsClicked","Logo","menu__burger","item","InputField","url","inputChangeHandler","URLPredictHandler","InputArea","type","UrlInput","placeholder","value","onChange","e","LoadingSpinner","PhotoField","photo","faceRect","photo__box","img__box","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","visibility","map","el","i","key","top_row","left_col","bottom_row","right_col","border","color","ModeChooser","active","modeSelectedHandler","FileInput","fileChangeHandler","fileInputRef","filePredictHandler","useRef","ref","accept","display","current","click","predictUrl","a","axios","post","response","data","predictFile","formData","Main","setModalHandler","setUrl","file","setFile","setPhoto","setFaceRect","setActive","useEffect","FormData","append","predictServices","then","res","outputs","input","image","regions","catch","err","num","target","regex","RegExp","match","urlMatch","files","mustLogIn","SignIn","loginData","method","id","form__field","htmlFor","name","password","SignUp","newUser","useForm","register","handleSubmit","errors","watch","passwordRef","onSubmit","preventDefault","required","maxLength","defaultValue","autoFocus","message","pattern","minLength","validate","password_repeat","ErrorModal","error","animation","header","text","SuccesModal","success","signUp","cred","Promise","reject","signIn","withRouter","setNewUser","setLoginData","setServerVal","setLoggedUser","setError","setSuccess","modalAnimation","setModalAnimation","window","localStorage","getItem","user","JSON","parse","token","parentNode","history","push","console","log","setItem","stringify","setTimeout","Provider","removeItem","TransitionGroup","CSSTransition","location","timeout","enter","exit","classNames","path","exact","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e28732f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SignUp\":\"SignUp_SignUp__3avw1\",\"form-field\":\"SignUp_form-field__2dEfw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__3iYoD\",\"menu__burger\":\"Header_menu__burger__26T8s\",\"item\":\"Header_item__3pd91\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputField\":\"InputField_InputField__3anSh\",\"InputArea\":\"InputField_InputArea__3qY9W\",\"UrlInput\":\"InputField_UrlInput__12dPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SignIn\":\"SignIn_SignIn__1FX2n\",\"form__field\":\"SignIn_form__field__1fnW5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Main_Main__12l2c\",\"mustLogIn\":\"Main_mustLogIn__14hee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo__box\":\"PhotoField_photo__box__-J4sC\",\"img__box\":\"PhotoField_img__box___GbT8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Title\":\"Title_Title__10f5f\"};","module.exports = __webpack_public_path__ + \"static/media/brain.163ed871.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds-ripple\":\"LoadingSpinner_lds-ripple__EGGGy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FileInput\":\"FileInput_FileInput__3eve_\"};","module.exports = __webpack_public_path__ + \"static/media/Blanka-Regular.0f9bdc30.otf\";","module.exports = __webpack_public_path__ + \"static/media/Pixopedia.a4c77f73.ttf\";","import React from 'react';\n\nimport classes from './styles/Title.module.css'\n\nfunction Title(props) {\n    return (\n        <h1 className={classes.Title}>Smartbrain</h1>\n    );\n}\n\nexport default Title;","import React from 'react';\nimport Tilt from 'react-tilt';\n\nimport logo from '../../assets/images/brain.png';\n\nexport default () => (\n  <Tilt\n    className=\"Tilt\"\n    options={{ max: 35 }}\n    style={{ height: 75, width: 75 }}\n  >\n    <img src={logo} alt=\"brain__logo\" style={{ width: 75 }} />\n  </Tilt>\n);\n","import React from 'react';\n\nconst authContext = React.createContext({\n  loggedUser: null,\n  signInHandler: () => {},\n  signUpHandler: () => {},\n  signOutHandler: () => {},\n  loadingState: {\n    loading: false,\n    setLoading: ()=>{}\n  },\n  serverVal: {\n    email: false,\n    username: false\n  }\n});\n\nexport default authContext;\n","import React from 'react';\n\nfunction Backdrop(props) {\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        minWidth: '100vw',\n        minHeight: '100vh',\n        zIndex: 500,\n        backgroundColor: 'rgba(0, 0, 0, 0.534)'\n      }}\n      onClick={() => props.burgerClickedHandler()}\n    ></div>\n  );\n}\n\nexport default Backdrop;\n","import React, { useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useMediaQuery } from 'react-responsive';\nimport MediaQuery from 'react-responsive';\n\nimport AuthContext from '../../context/authContext';\n\nimport Backdrop from '../UI/Backdrop/Backdrop';\n\nimport './styles/Nav.css';\n\nfunction Nav({ burgerClickedHandler, isClicked }) {\n  const authContext = useContext(AuthContext);\n\n  const isMobile = useMediaQuery({ query: '(max-width: 1120px)' });\n\n  return (\n    <>\n      {isClicked &&\n        isMobile && <Backdrop burgerClickedHandler={burgerClickedHandler} />}\n      <nav className={`Nav ${isClicked ? 'active' : ''}`}>\n        <NavLink\n          to=\"/\"\n          className=\"nav__item\"\n          onClick={() => burgerClickedHandler()}\n        >\n          Home\n        </NavLink>\n        {!authContext.loggedUser ? (\n          <>\n            <NavLink\n              to=\"/sign-in\"\n              className=\"nav__item\"\n              onClick={() => burgerClickedHandler()}\n            >\n              Sign In\n            </NavLink>\n            <NavLink\n              to=\"/sign-up\"\n              className=\"nav__item\"\n              onClick={() => burgerClickedHandler()}\n            >\n              Sign Up\n            </NavLink>\n          </>\n        ) : (\n          <NavLink\n            to=\"/\"\n            className=\"nav__item\"\n            onClick={() => authContext.signOutHandler()}\n          >\n            Sign Out\n          </NavLink>\n        )}\n\n        <div className=\"exit\" onClick={() => burgerClickedHandler()}></div>\n      </nav>\n    </>\n  );\n}\n\nexport default Nav;\n","import React, {useState} from 'react';\n\n\nimport classes from './styles/Header.module.css'\n\n//Components import\nimport Title from '../../components/Title/Title'\nimport Logo from '../../components/Logo/Logo'\nimport Nav from '../../components/Nav/Nav'\n\n\nfunction Header(props) {\n    const [isClicked, setIsClicked] = useState(false)\n\n    const burgerClickedHandler = () => {\n      setIsClicked(!isClicked)\n    }  \n\n    \n    return (\n        <header className={classes.Header}>\n            <Logo />\n            <Title />\n            \n            <Nav burgerClickedHandler={burgerClickedHandler} isClicked={isClicked}/>\n            <div className={classes.menu__burger} onClick={()=>burgerClickedHandler()}>\n                <div className={classes.item}></div>\n                <div className={classes.item}></div>\n                <div className={classes.item}></div>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;","import React from 'react';\n\nimport classes from './styles/InputField.module.css';\n\nfunction InputField({ url, inputChangeHandler, URLPredictHandler }) {\n  return (\n    <div className={classes.InputField}>\n      <p>\n        Put any image url below and I will try to detect faces on the picture\n      </p>\n      <div className={classes.InputArea}>\n        <input\n          type=\"url\"\n          className={classes.UrlInput}\n          placeholder=\"example: https://...\"\n          value={url}\n          onChange={e => inputChangeHandler(e)}\n        />\n        <button type=\"submit\" onClick={(e)=>URLPredictHandler(e)}>Send</button>\n      </div>\n    </div>\n  );\n}\n\nexport default InputField;\n","import React from 'react';\n\nimport classes from './styles/LoadingSpinner.module.css'\n\nconst LoadingSpinner = () => <div className={classes[\"lds-ripple\"]}><div></div><div></div></div>\n\nexport default LoadingSpinner;","import React from 'react';\n\nimport classes from './styles/PhotoField.module.css';\n\nimport LoadingSpinner from '../UI/LoadingSpinner/LoadingSpinner'\n\nfunction PhotoField({ photo, faceRect, loading }) {\n  return (\n    <div className={classes.photo__box}>\n      {!photo && !loading ? (\n        <h1 style={{color: '#273444'}}>No photo yet</h1>\n      ) : loading? <LoadingSpinner />:(\n        <div\n          className={classes.img__box}\n          style={{\n            backgroundImage: `url(${photo})`,\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundSize: 'cover'\n          }}\n        >\n          <img\n            src={photo}\n            alt=\"DSAG\"\n            style={{ visibility: 'hidden', width: '100%' }}\n          />\n          {faceRect\n            ? faceRect.map((el, i) => (\n                <div\n                  key={i}\n                  style={{\n                    position: 'absolute',\n                    top: `${el.top_row*100}%`,\n                    left: `${el.left_col*100}%`,\n                    height: `${(el.bottom_row-el.top_row)*100}%`,\n                    width: `${(el.right_col-el.left_col)*100}%`,\n                    border: '2px solid red'\n                  }}\n                ></div>\n              ))\n            : null}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default PhotoField;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './styles/ModeChooser.css';\n\nconst ModeChooser = ({ active, modeSelectedHandler }) => {\n  return (\n    <div className=\"ModeChooser\">\n      <button\n        to=\"/url\"\n        className={`choose-btn ${active === 1 ? 'active' : null}`}\n        onClick={() => modeSelectedHandler(1)}\n      >\n        URL\n      </button>\n      <button\n        to=\"/upload\"\n        className={`choose-btn ${active === 2 ? 'active' : null}`}\n        onClick={() => modeSelectedHandler(2)}\n      >\n        File Upload\n      </button>\n    </div>\n  );\n};\n\nexport default ModeChooser;\n","import React, { useRef } from 'react';\n\nimport classes from './styles/FileInput.module.css';\n\nfunction FileInput({ fileChangeHandler, filePredictHandler }) {\n  const fileInputRef = useRef();\n\n  const onChooseFileHandler = () => {\n    fileInputRef.current.click();\n  };\n\n  return (\n    <div className={classes.FileInput}>\n      <input\n        type=\"file\"\n        ref={fileInputRef}\n        accept=\".jpg, .jpeg, .png\"\n        style={{ display: 'none' }}\n        onChange={e => fileChangeHandler(e)}\n      />\n      <button type=\"submit\" onClick={e => onChooseFileHandler(e)}>\n        Choose File\n      </button>\n    </div>\n  );\n}\n\nexport default FileInput;\n","\n\nimport axios from 'axios';\n\nconst predictUrl = async url => {\n  const response = await axios.post('/api/predict/url', {url})\n  return response.data\n}\n\nconst predictFile = async formData => {\n  const response = await axios.post('/api/predict/file', formData)\n  return response.data\n}\n\nexport default {\n  predictUrl,\n  predictFile\n}","import React, { useState, useContext, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport classes from './styles/Main.module.css';\n\nimport URLInput from '../../components/InputField/InputField';\nimport PhotoField from '../../components/PhotoField/PhotoField';\nimport ModeChooser from '../../components/ModeChooser/ModeChooser';\nimport FileInput from '../../components/FileInput/FileInput';\n\nimport AuthContext from '../../context/authContext';\n\nimport predictServices from '../../service/predict';\n\nfunction Main({ setModalHandler }) {\n  const authContext = useContext(AuthContext);\n\n  const [url, setUrl] = useState('');\n  const [file, setFile] = useState(null);\n  const [photo, setPhoto] = useState(null);\n  const [faceRect, setFaceRect] = useState([]);\n  const [active, setActive] = useState(1);\n\n  useEffect(() => {\n    if (!file) return;\n    else filePredictHandler(file);\n  }, [file]);\n\n  const inputChangeHandler = ({ target }) => {\n    setUrl(target.value);\n  };\n\n  const urlMatch = url => {\n    const expression = /[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/gi;\n    const regex = new RegExp(expression);\n    return url.match(regex);\n  };\n\n  const modeSelectedHandler = num => {\n    if (active === num) return;\n    else setActive(num);\n  };\n\n  const fileChangeHandler = e => {\n    setFile(e.target.files[0]);\n  };\n\n  const filePredictHandler = e => {\n    setFaceRect([]);\n    setPhoto(null);\n    authContext.loadingState.setLoading(true);\n\n    const formData = new FormData();\n    formData.append('img', file);\n    predictServices\n      .predictFile(formData)\n      .then(res => {\n        setPhoto(res.outputs[0].input.data.image.url);\n        setFaceRect([\n          ...res.outputs[0].data.regions.map(\n            el => el['region_info']['bounding_box']\n          )\n        ]);\n        authContext.loadingState.setLoading(false);\n      })\n      .catch(err => {\n        setModalHandler(\n          'ERROR',\n          'Nothing found',\n          'No face detected, please try another photo'\n        );\n        authContext.loadingState.setLoading(false);\n      });\n  };\n\n  const URLPredictHandler = e => {\n    setFaceRect([]);\n    setPhoto(null);\n    authContext.loadingState.setLoading(true);\n\n    urlMatch(url)\n      ? predictServices\n          .predictUrl(url)\n          .then(res => {\n            setPhoto(res.outputs[0].input.data.image.url);\n            setFaceRect([\n              ...res.outputs[0].data.regions.map(\n                el => el['region_info']['bounding_box']\n              )\n            ]);\n            authContext.loadingState.setLoading(false);\n            setUrl('');\n          })\n          .catch(err => {\n            setModalHandler(\n              'ERROR',\n              'Nothing found',\n              'No face detected, please try another photo'\n            );\n            authContext.loadingState.setLoading(false);\n            setUrl('');\n          })\n      : (() => {\n          setModalHandler(\n            'ERROR',\n            'Input Error',\n            'Wrong input type, make sure your url is valid'\n          );\n          authContext.loadingState.setLoading(false);\n          setUrl('');\n        })();\n  };\n\n  return (\n    <div className={classes.Main}>\n      {authContext.loggedUser ? (\n        <>\n          <ModeChooser\n            active={active}\n            modeSelectedHandler={modeSelectedHandler}\n          />\n          {active === 1 ? (\n            <URLInput\n              url={url}\n              inputChangeHandler={inputChangeHandler}\n              URLPredictHandler={URLPredictHandler}\n            />\n          ) : (\n            <FileInput\n              fileChangeHandler={fileChangeHandler}\n              filePredictHandler={filePredictHandler}\n            />\n          )}\n\n          <PhotoField\n            photo={photo}\n            faceRect={faceRect}\n            loading={authContext.loadingState.loading}\n          />\n        </>\n      ) : (\n        <div className={classes.mustLogIn}>\n          <p>You must be logged in to be able to use face detection</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Main;\n","import React, { useContext } from 'react';\nimport AuthContext from '../../context/authContext';\n\nimport LoadingSpinner from '../../components/UI/LoadingSpinner/LoadingSpinner';\n\nimport classes from './styles/SignIn.module.css';\n\nfunction SignIn({ loginData, inputChangeHandler }) {\n  const authContext = useContext(AuthContext);\n\n  return (\n    <form method=\"submit\" className={classes.SignIn} id=\"signIn\">\n      {authContext.loadingState.loading ? (\n        <LoadingSpinner />\n      ) : (\n        <>\n          <h2>Sign In</h2>\n          <div className={classes.form__field}>\n            <label htmlFor=\"username\">Username</label>\n            <input\n              type=\"username\"\n              value={loginData.username}\n              name=\"username\"\n              placeholder=\"example: jdoe123\"\n              onChange={e => inputChangeHandler(e)}\n            />\n          </div>\n          <div className={classes.form__field}>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              value={loginData.password}\n              name=\"password\"\n              placeholder=\"example: qwerty12345\"\n              onChange={e => inputChangeHandler(e)}\n            />\n          </div>\n          <button type=\"submit\" onClick={e => authContext.signInHandler(e)}>\n            Sign In\n          </button>\n        </>\n      )}\n    </form>\n  );\n}\n\nexport default SignIn;\n","import React, { useContext, useRef } from 'react';\nimport AuthContext from '../../context/authContext';\nimport { useForm } from 'react-hook-form';\n\nimport LoadingSpinner from '../../components/UI/LoadingSpinner/LoadingSpinner';\n\nimport classes from './styles/SignUp.module.css';\n\nfunction SignUp({ newUser, inputChangeHandler }) {\n  const { name, username, email, password } = newUser;\n  const authContext = useContext(AuthContext);\n  const { register, handleSubmit, errors, watch } = useForm();\n\n  const passwordRef = useRef({});\n  passwordRef.current = watch('password', '');\n\n  return (\n    <form\n      onSubmit={e => e.preventDefault()}\n      className={classes.SignUp}\n      id=\"signUp\"\n    >\n      {authContext.loadingState.loading ? (\n        <LoadingSpinner />\n      ) : (\n        <>\n          <div className={classes['form-field']}>\n            <label htmlFor=\"name\">Name</label>\n            <input\n              name=\"name\"\n              ref={register({\n                required: 'You must put in your name',\n                maxLength: 20\n              })}\n              defaultValue={name}\n              onChange={e => inputChangeHandler(e)}\n              placeholder=\"example: John Doe\"\n              autoFocus\n            />\n            {errors.name && <p>{errors.name.message}</p>}\n          </div>\n          <div className={classes['form-field']}>\n            <label htmlFor=\"email\">Email</label>\n            <input\n              name=\"email\"\n              ref={register({\n                required: 'You must provide an existing email',\n                pattern: {\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\n                  message: 'invalid email address'\n                }\n              })}\n              defaultValue={email}\n              onChange={e => inputChangeHandler(e)}\n              placeholder=\"example: jdoe1990@example.com\"\n            />\n            {(errors.email && <p>{errors.email.message}</p>) ||\n              (authContext.serverVal.email && (\n                <p>This email is already signed to other account</p>\n              ))}\n          </div>\n          <div className={classes['form-field']}>\n            <label htmlFor=\"username\">Username</label>\n            <input\n              name=\"username\"\n              ref={register({\n                required: 'You must specify a unique username'\n              })}\n              defaultValue={username}\n              onChange={e => inputChangeHandler(e)}\n              placeholder=\"example: jdoe123\"\n            />\n            {(errors.username && <p>{errors.username.message}</p>) ||\n              (authContext.serverVal.username && (\n                <p>This username is already used</p>\n              ))}\n          </div>\n          <div className={classes['form-field']}>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              name=\"password\"\n              type=\"password\"\n              ref={register({\n                required: 'You must specify a password',\n                minLength: {\n                  value: 8,\n                  message: 'Password must have at least 8 characters'\n                }\n              })}\n              defaultValue={password}\n              onChange={e => inputChangeHandler(e)}\n              placeholder=\"example: qwerty12345\"\n            />\n            {errors.password && <p>{errors.password.message}</p>}\n          </div>\n          <div className={classes['form-field']}>\n            <label>Repeat password</label>\n            <input\n              name=\"password_repeat\"\n              type=\"password\"\n              ref={register({\n                validate: value =>\n                  value === passwordRef.current || 'The passwords do not match'\n              })}\n            />\n            {errors.password_repeat && <p>{errors.password_repeat.message}</p>}\n          </div>\n          <button\n            type=\"submit\"\n            onClick={handleSubmit(authContext.signUpHandler)}\n          >\n            Sign Up\n          </button>\n        </>\n      )}\n    </form>\n  );\n}\n\nexport default SignUp;\n\n","import React from 'react';\n\nimport './ErrorModal.css'\n\nfunction ErrorModal({error, animation}) {\n    const {header, text} = error;\n    return (\n        <div className='ErrorModal'style={{animation: `${animation? animation: null}`}}>\n            <h3>{header}</h3>\n            <p>{text}</p>\n        </div>\n    );\n}\n\nexport default ErrorModal;","import React from 'react';\n\nimport './SuccessModal.css'\n\nfunction SuccesModal({success, animation}) {\n    const {header, text} = success;\n    return (\n        <div className='SuccessModal'style={{animation: `${animation? animation: null}`}}>\n            <h3>{header}</h3>\n            <p>{text}</p>\n        </div>\n    );\n}\n\nexport default SuccesModal;","import axios from 'axios'\n\n\n\nconst signUp = async cred => {\n   try{\n    const response = await axios.post('/api/signup', cred)\n    return response.data\n   } catch(err){\n       return Promise.reject(err)\n       \n   }\n}\n\nexport default signUp\n","import axios from 'axios';\n\nconst signIn = async cred => {\n    const response = await axios.post('/api/signin', cred)\n    return response.data\n}\n\nexport default signIn","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\n//Containers import\nimport Header from './containers/Header/Header';\nimport Main from './containers/Main/Main';\nimport SignIn from './containers/SignIn/SignIn.jsx';\nimport SignUp from './containers/SignUp/SignUp';\n\n//UI import\nimport ErrorModal from './components/UI/ErrorModal/ErrorModal';\nimport SuccessModal from './components/UI/SuccessModal/SuccessModal';\n\n//Context import\nimport AuthContext from './context/authContext';\n\n//Services import\nimport signUp from './service/signUp';\nimport signIn from './service/signIn';\nimport authContext from './context/authContext';\n\nfunction App(props) {\n  const [newUser, setNewUser] = useState({\n    name: '',\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [loginData, setLoginData] = useState({\n    username: '',\n    password: ''\n  });\n  const [serverVal, setServerVal] = useState({\n    email: false,\n    username: false\n  });\n  const [loggedUser, setLoggedUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [modalAnimation, setModalAnimation] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    return window.localStorage.getItem('loggedFaceRecogAppUser')\n      ? (() => {\n          const user = JSON.parse(\n            window.localStorage.getItem('loggedFaceRecogAppUser')\n          );\n          setLoggedUser(user.name, user.username, user.token);\n        })()\n      : null;\n  }, []);\n\n  const inputChangeHandler = e => {\n    switch (e.target.parentNode.parentNode.id) {\n      case 'signUp':\n        setNewUser({\n          ...newUser,\n          [e.target.name]: e.target.value\n        });\n        break;\n      case 'signIn':\n        setLoginData({\n          ...loginData,\n          [e.target.name]: e.target.value\n        });\n        break;\n    }\n  };\n\n  const signUpHandler = async () => {\n    setServerVal({\n      email: false,\n      username: false\n    });\n    try {\n      setLoading(true);\n      await signUp(newUser);\n      setNewUser({\n        name: '',\n        username: '',\n        email: '',\n        password: ''\n      });\n      props.history.push('/');\n      setLoading(false);\n      setModalHandler(\n        'SUCCESS',\n        'Registration successfull',\n        'Sign in to be able to use face detection'\n      );\n    } catch (err) {\n      console.log('kjlgkjg', err.response.data.err);\n      if (err.response.data.err.errors.email)\n        setServerVal({\n          ...serverVal,\n          email: true\n        });\n\n      if (err.response.data.err.errors.username)\n        setServerVal({\n          ...serverVal,\n          username: true\n        });\n\n      setModalHandler(\n        'ERROR',\n        'Registration error',\n        'Error while data validation'\n      );\n\n      setLoading(false);\n    }\n  };\n\n  const signInHandler = async e => {\n    e.preventDefault();\n    try {\n      const user = await signIn(loginData);\n      setLoggedUser(user);\n      setLoginData({ username: '', password: '' });\n      window.localStorage.setItem(\n        'loggedFaceRecogAppUser',\n        JSON.stringify(user)\n      );\n      props.history.push('/');\n      setModalHandler('SUCCESS', 'You are now logged in', '');\n    } catch (err) {\n      setModalHandler(\n        'ERROR',\n        'Wrong Login Data',\n        'Either your username or your password were wrong, try another ones'\n      );\n      setLoginData({ username: '', password: '' });\n    }\n  };\n\n  const signOutHandler = () => {\n    setLoggedUser(null);\n    localStorage.removeItem('loggedFaceRecogAppUser');\n  };\n\n  const setModalHandler = (type, header, text) => {\n    switch (type) {\n      case 'SUCCESS':\n        setSuccess(null);\n        setSuccess({\n          header,\n          text\n        });\n        break;\n      case 'ERROR':\n        setError(null);\n        setError({\n          header,\n          text\n        });\n        break;\n    }\n    setModalAnimation('fadeIn .7s forwards ease');\n    setTimeout(() => {\n      setModalAnimation('fadeOut 0.7s forwards ease');\n      setTimeout(() => {\n        setError(null);\n        setSuccess(null);\n      }, 700);\n    }, 3000);\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        loggedUser: loggedUser,\n        signInHandler: signInHandler,\n        signUpHandler: signUpHandler,\n        signOutHandler: signOutHandler,\n        loadingState: {\n          loading,\n          setLoading\n        },\n        serverVal: {\n          email: serverVal.email,\n          username: serverVal.username\n        }\n      }}\n    >\n      <div className=\"App\">\n        {error ? <ErrorModal error={error} animation={modalAnimation} /> : null}\n        {success ? (\n          <SuccessModal success={success} animation={modalAnimation} />\n        ) : null}\n        <Header />\n        <TransitionGroup>\n          <CSSTransition\n            key={props.location.key}\n            timeout={{ enter: 300, exit: 300 }}\n            classNames=\"fade\"\n          > \n             <Switch location={props.location}>\n            \n              <Route\n                path=\"/\"\n                exact\n                render={() => (\n                  <Main error={error} setModalHandler={setModalHandler} />\n                )}\n              />\n              <Route\n                path=\"/sign-in\"\n                render={() => (\n                  <SignIn\n                    loginData={loginData}\n                    inputChangeHandler={inputChangeHandler}\n                  />\n                )}\n              />\n              <Route\n                path=\"/sign-up\"\n                render={() => (\n                  <SignUp\n                    newUser={newUser}\n                    inputChangeHandler={inputChangeHandler}\n                  />\n                )}\n              />\n              \n            </Switch>\n          </CSSTransition>\n        </TransitionGroup>\n      </div>\n    </AuthContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\n//Font import\nimport './assets/fonts/Blanka-Regular.otf'\nimport './assets/fonts/Pixopedia.ttf'\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n"],"sourceRoot":""}